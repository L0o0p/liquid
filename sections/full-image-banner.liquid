{{ 'full-image-banner.css' | asset_url | stylesheet_tag }}
{% comment %} 默认图片URL - 当编辑器中没有设置时使用这些 {% endcomment %}
  {% assign desktop_image_url = section.settings.desktop_image | default: "banner-web.png" | asset_url %}
  {% assign mobile_image_url = section.settings.mobile_image | default: "banner-mobile.jpeg" | asset_url %}
<div class="full-image-banner" style="background-color: {{ section.settings.background_color }};">
  <div class="banner-container">
    <div class="banner-image-container">
      <picture>
        <source media="(max-width: 767px)" srcset="{{ mobile_image_url }}">
        <source media="(min-width: 768px)" srcset="{{ desktop_image_url }}">
        <img src="{{ desktop_image_url }}" alt="Banner Image" class="banner-image">
      </picture>

      {% if section.settings.show_button %}
        <a
          href="{{ section.settings.button_link }}"
          class="shop-button"
          style="
            top: {{ section.settings.button_top_position }}%;
            left: {{ section.settings.button_left_position }}%;
            background-color: {{ section.settings.button_bg_color }};
            color: {{ section.settings.button_text_color }};
          "
        >
          {{ section.settings.button_text }}
        </a>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Full Image Banner",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "desktop_image",
      "label": "Desktop Banner Image",
      "info": "Recommended size: 1920x800"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile Banner Image",
      "info": "Recommended size: 800x1000"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#EDF4FC"
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "checkbox",
      "id": "show_button",
      "label": "Show Button",
      "default": true
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button Background Color",
      "default": "#555555"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_top_position",
      "label": "Button Vertical Position",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 63,
      "info": "Percentage from the top"
    },
    {
      "type": "range",
      "id": "button_left_position",
      "label": "Button Horizontal Position",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 57,
      "info": "Percentage from the left"
    }
  ],
  "presets": [
    {
      "name": "Full Image Banner",
      "settings": {
        "show_button": true,
        "button_text": "Shop Now",
        "button_top_position": 63,
        "button_left_position": 57
      }
    }
  ]
}
{% endschema %}
